<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Home Page</title>
    <!-- Google Font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Compiled Tailwind CSS -->
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body class="bg-gray-50 font-sans overflow-hidden">
    <!-- Grid container taking full viewport height -->
    <div class="grid grid-cols-1 md:grid-cols-2 h-screen">
      
      <!-- Hero Section (Left Column) -->
      <div class="flex items-center justify-center p-8 bg-gradient-to-br from-green-700 to-green-500">
        <!-- Inner wrapper with left-aligned text -->
        <div class="max-w-lg text-left">
          <h1 class="text-5xl font-bold text-white mb-6">
            Welcome to MyApp
          </h1>
          <p class="text-xl text-white mb-8">
            Your ultimate solution for seamless application tracking.
          </p>
          <!-- White button with muted green text for contrast -->
          <a
            href="/about"
            class="inline-block bg-white text-green-700 font-semibold py-3 px-6 rounded shadow hover:bg-gray-100 transition"
          >
            Learn More
          </a>
        </div>
      </div>
      
      <!-- Authentication Section (Right Column) -->
      <div class="flex items-center justify-center p-8 bg-white">
        <% if (formType === 'signup') { %>
          <form
            action="/auth/sign-up"
            method="POST"
            class="w-full max-w-md space-y-4 p-4 bg-gray-50 rounded-lg shadow-lg"
          >
            <p class="text-2xl font-bold text-center text-gray-800 mb-2">
              Create an Account
            </p>
            <% if (error === "username_taken") { %>
              <p class="text-red-500 text-center">
                ⚠️ Username already taken. Try another one.
              </p>
            <% } else if (error === "password_mismatch") { %>
              <p class="text-red-500 text-center">
                ⚠️ Passwords do not match.
              </p>
            <% } else if (error === "missing_fields") { %>
              <p class="text-red-500 text-center">
                ⚠️ All fields are required.
              </p>
            <% } else if (error === "server_error") { %>
              <p class="text-red-500 text-center">
                ⚠️ Server error. Try again later.
              </p>
            <% } %>
            <div>
              <label class="block mb-2 text-gray-700">
                First Name
                <input
                  required
                  name="firstName"
                  type="text"
                  class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-green-600"
                />
              </label>
            </div>
            <div>
              <label class="block mb-2 text-gray-700">
                Last Name
                <input
                  required
                  name="lastName"
                  type="text"
                  class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-green-600"
                />
              </label>
            </div>
            <div>
              <label class="block mb-2 text-gray-700">
                Username
                <input
                  required
                  name="username"
                  type="text"
                  class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-green-600"
                />
              </label>
            </div>
            <div>
              <label class="block mb-2 text-gray-700">
                Email
                <input
                  required
                  name="email"
                  type="email"
                  class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-green-600"
                />
              </label>
            </div>
            <div>
              <label class="block mb-2 text-gray-700">
                Password
                <input
                  required
                  name="password"
                  type="password"
                  class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-green-600"
                />
              </label>
            </div>
            <div>
              <label class="block mb-2 text-gray-700">
                Confirm Password
                <input
                  required
                  name="confirmPassword"
                  type="password"
                  class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-green-600"
                />
              </label>
            </div>
            <button
              type="submit"
              class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded transition"
            >
              Register
            </button>
            <p class="text-center text-sm mt-2 text-gray-700">
              Already have an account?
              <a href="/?form=signin" class="text-green-600 hover:underline">Sign In</a>
            </p>
          </form>
        <% } else { %>
          <form
            action="/auth/sign-in"
            method="POST"
            class="w-full max-w-md space-y-4 p-4 bg-gray-50 rounded-lg shadow-lg"
          >
            <p class="text-2xl font-bold text-center text-gray-800 mb-2">
              Welcome Back!
            </p>
            <% if (error === "login_failed") { %>
              <p class="text-red-500 text-center">
                ⚠️ Login failed. Check your credentials.
              </p>
            <% } else if (error === "missing_fields") { %>
              <p class="text-red-500 text-center">
                ⚠️ All fields are required.
              </p>
            <% } else if (error === "server_error") { %>
              <p class="text-red-500 text-center">
                ⚠️ Server error. Try again later.
              </p>
            <% } %>
            <div>
              <label class="block mb-2 text-gray-700">
                Username or Email
                <input
                  required
                  name="login"
                  type="text"
                  class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-green-600"
                />
              </label>
            </div>
            <div>
              <label class="block mb-2 text-gray-700">
                Password
                <input
                  required
                  name="password"
                  type="password"
                  class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:border-green-600"
                />
              </label>
            </div>
            <button
              type="submit"
              class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded transition"
            >
              Submit
            </button>
            <p class="text-center text-sm mt-2 text-gray-700">
              Don't have an account?
              <a href="/?form=signup" class="text-green-600 hover:underline">Sign Up</a>
            </p>
          </form>
        <% } %>
      </div>
    </div>
  </body>
</html>
